(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{17:function(e,t,n){e.exports={mainContainer:"bookStyle_mainContainer__PXkFw",dataContainer:"bookStyle_dataContainer__1Vtcg",title:"bookStyle_title__30v8K",author:"bookStyle_author__1Gw8i",category:"bookStyle_category__16-ZR",optionsContainer:"bookStyle_optionsContainer__3D9LI",btn:"bookStyle_btn__s2GMH",progressContainer:"bookStyle_progressContainer__297Lb",circlePercent:"bookStyle_circlePercent__1WSiK",textPercent:"bookStyle_textPercent__K7ggB"}},24:function(e,t,n){e.exports={mainContainer:"progressCircleStyle_mainContainer__2tTE7",percentContainer:"progressCircleStyle_percentContainer__1BH_n",circlePercent:"progressCircleStyle_circlePercent__tj20Y",textContainer:"progressCircleStyle_textContainer__18j_k",number:"progressCircleStyle_number__1VCr7",text:"progressCircleStyle_text__M3Ref",percentCircle:"progressCircleStyle_percentCircle__37qbB"}},30:function(e,t,n){e.exports={navBar:"navBarStyle_navBar__2WSrX",btn:"navBarStyle_btn__3DYGN",userIcon:"navBarStyle_userIcon__K9iZK",logo:"navBarStyle_logo__2Suj8",mainContainer:"navBarStyle_mainContainer__16C4E"}},31:function(e,t,n){e.exports={mainContainer:"updateProgressStyle_mainContainer__2vhDa",btnContainer:"updateProgressStyle_btnContainer__fLOrm",btn:"updateProgressStyle_btn__1KOPf",close:"updateProgressStyle_close__3AEci"}},32:function(e,t,n){e.exports={mainContainer:"createNewBookStyle_mainContainer__18luj",title:"createNewBookStyle_title__Lmpcu",category:"createNewBookStyle_category__1nZx_",btn:"createNewBookStyle_btn__2KijE"}},40:function(e,t,n){e.exports={item:"menuItemStyle_item__eLDCt",btn:"menuItemStyle_btn__2TK47"}},41:function(e,t,n){e.exports={chapterContainer:"chapterStyle_chapterContainer__ciTQV",currentChapter:"chapterStyle_currentChapter__2Vh8d",chapterName:"chapterStyle_chapterName__1yMb5"}},46:function(e,t,n){e.exports={mainContainer:"bookContainerStyle_mainContainer__tf1RO",listContainer:"bookContainerStyle_listContainer__2Q0Bp"}},50:function(e,t,n){e.exports={mainContainer:"logoStyle_mainContainer__33Zy1"}},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(37),c=n.n(r),s=n(18),o=n(33),l=n(5),u=n(71),d=n(51),p=n(40),b=n.n(p),j=n(2),h=function(e){var t=e.index,n=e.to,a=e.text;return Object(j.jsx)("li",{className:b.a.item,children:Object(j.jsx)(o.b,{to:n,exact:!0,children:Object(j.jsx)(u.a.button,{type:"button",className:b.a.btn,whileHover:b.a.hover,children:a})})},t)},m=n(30),x=n.n(m),f=n(50),O=n.n(f),v={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:.8}}},_={initial:{rotateY:180,opacity:0,y:5},animate:{rotateY:360,opacity:1,y:0,transition:{duration:1}}},y=function(e){var t=e.message.split("");return Object(j.jsx)(u.a.div,{className:O.a.mainContainer,variants:v,initial:"initial",animate:"animate",children:t.map((function(e,t){return Object(j.jsx)(u.a.div,{variants:_,children:e},e.concat(t))}))})},g=function(){var e;return Object(j.jsx)("nav",{className:x.a.navBar,children:Object(j.jsxs)("div",{className:x.a.mainContainer,children:[Object(j.jsx)("div",{className:x.a.logo,children:Object(j.jsx)("h1",{children:Object(j.jsx)(y,{message:"Bookstore"})})}),Object(j.jsx)("ul",{children:(e=[{id:1,path:"/",text:"Books"},{id:2,path:"/categories",text:"Categories"}],e.map((function(e){return Object(j.jsx)(h,{index:e.id,to:e.path,text:e.text},e.id)})))}),Object(j.jsx)(u.a.button,{whileHover:{scale:1.3,rotate:360},whileTap:{scale:.9},className:x.a.btn,type:"button",children:Object(j.jsx)(d.a,{className:x.a.userIcon})})]})})},C=n(47),N=n(9),k=n.n(N),S=n(23),w=n(26),A=n(39),B=new function e(){var t=this;Object(A.a)(this,e),this.requestApi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=e,i={Accept:"*/*","Content-Type":"application/json"},r={method:n,headersList:i};return"GET"===n?a+="?".concat(new URLSearchParams(t).toString()):"DELETE"===n&&(a+="/".concat(t.item_id)),fetch(a,r)},this.getApi=function(){var e=Object(S.a)(k.a.mark((function e(n,a,i){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestApi(n,a,"GET");case 2:if(!(r=e.sent).ok){e.next=6;break}return void 0!==i&&i(),e.abrupt("return",r.json());case 6:return e.abrupt("return","");case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.postApi=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,a,i,r,c=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},a={Accept:"*/*","Content-Type":"application/json"},i=n,e.next=5,fetch(t,{method:"POST",body:JSON.stringify(i),headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteApi=function(){var e=Object(S.a)(k.a.mark((function e(n,a){var i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestApi(n,a,"DELETE");case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},E=new function e(){Object(A.a)(this,e),this.MAIN="https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/OMlwiHaSBLEL62sFo84R/books"},P=Object(w.b)("books/fetchAllBooks",Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getApi(E.MAIN);case 2:return t=e.sent,n=Object.entries(t).map((function(e){return{item_id:e[0],title:e[1][0].title.split("/")[0],author:e[1][0].title.split("/")[1],category:e[1][0].category}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),T=Object(w.b)("books/createBook",function(){var e=Object(S.a)(k.a.mark((function e(t){var n,a,i,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item_id,a=t.author,i=t.category,r=(r=t.title).concat("/".concat(a)),e.next=4,B.postApi(E.MAIN,{item_id:n,category:i,title:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=Object(w.b)("books/deleteBook",function(){var e=Object(S.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,B.deleteApi(E.MAIN,{item_id:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(w.c)({name:"books",initialState:{entities:[],loading:"idle"},reducers:{},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loading="pending"})).addCase(P.fulfilled,(function(e,t){e.entities=Object(C.a)(t.payload),e.loading="idle"})),e.addCase(T.fulfilled,(function(e,t){e.loading="idle",e.entities=[].concat(Object(C.a)(e.entities),[t.meta.arg])})).addCase(T.pending,(function(e){e.loading="pending"})),e.addCase(M.fulfilled,(function(e,t){e.loading="idle";var n=e.entities.filter((function(e){return e.item_id!==t.meta.arg.id}));e.entities=n})).addCase(M.pending,(function(e){e.loading="pending"}))}}).reducer,I=n(46),D=n.n(I),H=n(20),L=n(74),K=n(73),q=n(24),G=n.n(q),U={initial:{},animate:{transition:{staggerChildren:.5,delayChildren:1.5}}},W={initial:{opacity:0},animate:{opacity:1,transition:{type:"spring",damping:10,mass:.75,stiffness:100}}},F=function(e){var t=Object(a.useState)(0),n=Object(H.a)(t,2),i=n[0],r=n[1],c=function(e){return[Math.cos(2*Math.PI*e),Math.sin(2*Math.PI*e)]},s=e.percent,o=40,l=64*Math.PI,d=l-s*l,p=c(0),b=Object(H.a)(p,2),h=b[0],m=b[1],x=c(i),f=Object(H.a)(x,2),O=f[0],v=f[1],_=i>.5?1:0;["M ".concat(h," ").concat(m),"A 1 1 0 ".concat(_," 1 ").concat(O," ").concat(v),"L 0 0"].join(" "),"rgb( 0 0 ".concat(100*s+150," )");return Object(a.useEffect)((function(){r(s)}),[s]),Object(j.jsx)(u.a.div,{className:G.a.mainContainer,children:Object(j.jsxs)(u.a.div,{className:G.a.percentContainer,variants:U,initial:"initial",animate:"animate",children:[Object(j.jsxs)(u.a.svg,{height:80,width:80,variants:W,children:[Object(j.jsx)("circle",{className:G.a.percentCircle,stroke:"#eeeeee",fill:"transparent",strokeWidth:4,r:32,cx:o,cy:o}),Object(j.jsx)("circle",{className:G.a.percentCircle,stroke:"rgb( ".concat(50/s," ").concat(150*s," ").concat(500*s," )"),fill:"transparent",strokeWidth:4,strokeDasharray:"".concat(l," ").concat(l),style:{strokeDashoffset:d},r:32,cx:o,cy:o})]}),Object(j.jsxs)(u.a.div,{className:G.a.textContainer,variants:W,children:[Object(j.jsx)("p",{className:G.a.number,children:"".concat(100*s,"%")}),Object(j.jsx)("p",{className:G.a.text,children:"Completed"})]})]})})},V=n(41),Y=n.n(V),Z=n(31),J=n.n(Z),X={close:{width:"150px"},open:{height:"100px"}},Q=function(e){var t=Object(L.a)(!1,!0),n=Object(H.a)(t,2),a=n[0],i=n[1],r=e.addProgress;return Object(j.jsx)(u.a.div,{className:J.a.mainContainer,variants:X,animate:a?"open":"close",onClick:a?function(){}:function(){return i()},whileHover:{scale:1.05},children:a?Object(j.jsxs)("div",{className:J.a.btnContainer,children:[Object(j.jsx)("button",{onClick:function(){return i()},className:J.a.close,label:"close",type:"button",children:"X"}),Object(j.jsx)("button",{onClick:function(){return r(1)},className:J.a.btn,label:"add",type:"button",children:"Add"}),Object(j.jsx)("button",{onClick:function(){return r(-1)},className:J.a.btn,label:"remove",type:"button",children:"Remove"})]},"updateMenu"):Object(j.jsx)("p",{children:"Update progress"})})},z={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:2.5}}},$={initial:{x:50,opacity:0},animate:{x:0,opacity:1,transition:{type:"spring",damping:10,mass:.75,stiffness:100}}},ee={initial:{x:100,opacity:0,scale:0},animate:{x:0,opacity:1,scale:1,transition:{type:"spring",damping:10,mass:.75,stiffness:100}}},te=function(e){var t=e.addProgress;return Object(j.jsxs)(u.a.div,{className:Y.a.chapterContainer,variants:z,initial:"initial",animate:"animate",children:[Object(j.jsx)(u.a.p,{className:Y.a.currentChapter,variants:$,children:"CURRENT CHAPTER"}),Object(j.jsx)(u.a.p,{className:Y.a.chapterName,variants:$,children:"A chapter"}),Object(j.jsx)(u.a.div,{variants:ee,children:Object(j.jsx)(Q,{addProgress:t})})]})},ne=n(17),ae=n.n(ne),ie={initial:{},animate:{opacity:1,transition:{staggerChildren:.2,delayChildren:.5}},exit:{x:200,opacity:0}},re={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:.8}}},ce={initial:{x:50,opacity:0},animate:{x:0,opacity:1,transition:{type:"spring",damping:10,mass:.75,stiffness:100}}},se={initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",damping:10,mass:.75,stiffness:200}}},oe=function(e){var t=Object(s.b)(),n=Object(a.useState)(0),i=Object(H.a)(n,2),r=i[0],c=i[1],o=Object(L.a)(!0,!1),l=Object(H.a)(o,2),d=l[0],p=l[1],b=e.id,h=e.title,m=e.category,x=e.variants,f=e.author;return Object(j.jsx)(K.a,{initial:"false",children:Object(j.jsx)(u.a.li,{positionTransition:!0,className:ae.a.list,variants:x,exit:{opacity:0,scale:.5,transition:{duration:.2}},children:Object(j.jsxs)(u.a.div,{className:ae.a.mainContainer,variants:ie,initial:"initial",animate:d?"animate":"exit",children:[Object(j.jsxs)(u.a.div,{variants:ce,className:ae.a.dataContainer,children:[Object(j.jsx)("p",{className:ae.a.category,children:m}),Object(j.jsx)("p",{className:ae.a.title,children:h}),Object(j.jsx)("p",{className:ae.a.author,children:f}),Object(j.jsxs)(u.a.div,{variants:re,className:ae.a.optionsContainer,children:[Object(j.jsx)(u.a.div,{variants:se,children:Object(j.jsx)(u.a.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:ae.a.btn,type:"button",children:"Comments"})}),Object(j.jsx)(u.a.div,{variants:se,children:Object(j.jsx)(u.a.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:ae.a.btn,onClick:function(){p(),t(M({id:b}))},type:"motion.button",children:"Remove"})}),Object(j.jsx)(u.a.div,{variants:se,children:Object(j.jsx)(u.a.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:ae.a.btn,type:"button",children:"Edit"})})]})]}),Object(j.jsx)(F,{percent:r}),Object(j.jsx)(te,{addProgress:function(e){var t=100*r+10*e;t>=0&&t<=100&&c(t/100)}})]})},"book")})},le={initial:{transition:{staggerChildren:.5,delayChildren:1}},animate:{transition:{staggerChildren:.5,delayChildren:1}},exit:{scale:0}},ue={initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",damping:10,mass:.75,stiffness:100}}},de=function(){var e=Object(s.c)((function(e){return e.books.entities})),t=Object(s.c)((function(e){return e.books})),n=Object(s.b)(),i=Object(a.useRef)(null);Object(a.useEffect)((function(){console.log(e),console.log(t),n(P()),i.current.addEventListener("DOMNodeInserted",(function(e){if("LI"===e.target.nodeName){var t=e.currentTarget;t.scroll({top:t.scrollHeight,behavior:"smooth"})}}))}),[]);var r;return Object(j.jsx)(u.a.section,{className:D.a.mainContainer,ref:i,children:e&&Object(j.jsx)(u.a.ul,{variants:le,initial:"initial",animate:"animate",className:D.a.listContainer,children:(r=e,r.map((function(e){return Object(j.jsx)(oe,{id:e.item_id,category:e.category,title:e.title,author:e.author,variants:ue},e.item_id)})))})})},pe=n(72),be=n(32),je=n.n(be),he=["None","Adventure","Comic","Crime","Docufiction","Epistolary","Erotic","Fiction","Fantasy","Historical","Horror","Magic","Realism","Mystery","Paranoid","Philosophical","Political","Romance","Saga","Satire","Science","Speculative","Superhero","Thriller","Urban","Western"],me=function(){var e=Object(s.b)(),t=Object(a.useRef)(null),n=Object(a.useRef)(null),i=Object(a.useRef)(null),r=he.map((function(e,t){return Object(j.jsx)("option",{value:t,children:e},e)}));return Object(j.jsxs)("section",{className:je.a.mainContainer,children:[Object(j.jsx)("h1",{children:"ADD NEW BOOK"}),Object(j.jsxs)("form",{onSubmit:function(a){a.preventDefault(),function(){var a,r,c,s={item_id:Object(pe.a)(),title:null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.value,author:null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.value,category:he[null===i||void 0===i||null===(c=i.current)||void 0===c?void 0:c.value]};e(T(s))}(),t.current.value="",i.current.value=""},children:[Object(j.jsx)("input",{required:!0,className:je.a.title,ref:t,type:"text",name:"title",placeholder:"Title"}),Object(j.jsx)("input",{required:!0,className:je.a.title,ref:n,type:"text",name:"author",placeholder:"Author"}),Object(j.jsxs)("select",{name:"category",id:"category",className:je.a.category,ref:i,required:!0,children:[Object(j.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Category"}),Object(j.jsx)("option",{value:"0",children:"Category"}),r]}),Object(j.jsx)(u.a.input,{whileHover:{scale:1.1},whileTap:{scale:.9},className:je.a.btn,label:"Create",type:"submit",name:"create",value:"ADD BOOK"})]})]})},xe=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(de,{}),Object(j.jsx)(me,{})]})},fe=function(){return Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:500},children:"UNDER CONSTRUCTION!"})},Oe=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h3",{children:"Nothing here..."})})};var ve=function(){var e=Object(l.f)();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(g,{}),Object(j.jsxs)(l.c,{location:e,children:[Object(j.jsx)(l.a,{exact:!0,path:"/",children:Object(j.jsx)(xe,{})}),Object(j.jsx)(l.a,{path:"/categories",children:Object(j.jsx)(fe,{})}),Object(j.jsx)(l.a,{path:"*",children:Object(j.jsx)(Oe,{})})]},e.pathname)]})},_e=n(36),ye=(n(66),Object(w.a)({reducer:{books:R},middleware:[_e.a]}));n(67);c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(s.a,{store:ye,children:Object(j.jsx)(o.a,{basename:"/bookstore",children:Object(j.jsx)(ve,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.eae063b2.chunk.js.map