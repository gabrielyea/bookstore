{"version":3,"sources":["components/nav/menuItem/MenuItem.js","components/nav/NavBar.js","api/api-access.js","api/api-routes.js","redux/books/bookSlice.js","components/book/Book.js","components/booksContainer/BooksContainer.js","components/createNewBook/CreateNewBook.js","pages/home/Home.js","pages/categories/Categories.js","pages/NotMatch.js","App.js","redux/configureStore.js","index.js"],"names":["colors","MenuItem","index","to","text","style","border","exact","type","className","NavBar","linkCollection","id","path","map","link","access","requestApi","url","params","method","newUrl","headersList","Accept","options","URLSearchParams","toString","item_id","fetch","getApi","callback","a","response","ok","undefined","json","postApi","body","JSON","stringify","headers","deleteApi","routes","MAIN","fetchAllBooks","createAsyncThunk","thunkAPI","createBook","category","title","deleteBook","bookSlice","createSlice","name","initialState","entities","loading","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","Object","entries","payload","forEach","book","newBook","filterArr","filter","Book","props","dispatch","useDispatch","onClick","BooksContainer","books","useSelector","useEffect","booksCollection","CreateNewBook","titleInput","useRef","categoryInput","onSubmit","event","preventDefault","uuidv4","current","value","submitBookToStore","ref","placeholder","label","Home","Categories","NotMatch","App","location","useLocation","pathname","configureStore","reducer","bookReducer","ReactDOM","render","StrictMode","store","basename","process","document","getElementById"],"mappings":"iLAIMA,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WA0B7CC,EAxBE,SAAC,GAEX,IADLC,EACI,EADJA,MAAOC,EACH,EADGA,GAAIC,EACP,EADOA,KAELC,EAAQ,CAAEC,OAAO,aAAD,OAAeN,EAAOE,KAC5C,OACE,6BAGE,cAAC,IAAD,CACEC,GAAIA,EACJI,OAAK,EAFP,SAIE,wBACEC,KAAK,SACLC,UAAU,MACVJ,MAAOA,EAHT,SAKGD,OAXAF,ICTLQ,EAAS,WACb,IAaqBC,EASrB,OACE,sBAAKF,UAAU,MAAf,UACE,qBAAKA,UAAU,OAAf,SAAsB,6CACtB,8BAZiBE,EAbP,CACZ,CACEC,GAAI,EACJC,KAAM,IACNT,KAAM,SAER,CACEQ,GAAI,EACJC,KAAM,cACNT,KAAM,eAI8BO,EAAeG,KAAI,SAACC,GAAD,OACzD,cAAC,EAAD,CAEEb,MAAOa,EAAKH,GACZT,GAAIY,EAAKF,KACTT,KAAMW,EAAKX,MAHNW,EAAKH,c,uCCsCVI,EAAS,I,iDArDbC,WAAa,SAACC,GAAsC,IAAjCC,EAAgC,uDAAvB,GAAIC,EAAmB,uDAAV,MACnCC,EAASH,EACPI,EAAc,CAClBC,OAAQ,MACR,eAAgB,oBAGZC,EAAU,CACdJ,SACAE,eAQF,MANe,QAAXF,EACFC,GAAM,WAAS,IAAII,gBAAgBN,GAASO,YACxB,WAAXN,IACTC,GAAM,WAAQF,EAAOQ,UAGhBC,MAAMP,EAAQG,I,KAGvBK,O,uCAAS,WAAOX,EAAKC,EAAQW,GAApB,eAAAC,EAAA,sEACgB,EAAKd,WAAWC,EAAKC,EAAQ,OAD7C,YACDa,EADC,QAEMC,GAFN,4BAGYC,IAAbJ,GACFA,IAJG,kBAMEE,EAASG,QANX,gCAQA,IARA,2C,+DAWTC,Q,uCAAU,WAAOlB,GAAP,iCAAAa,EAAA,6DAAYZ,EAAZ,+BAAqB,GACvBG,EAAc,CAClBC,OAAQ,MACR,eAAgB,oBAGZc,EAAOlB,EANL,SAQeS,MAAMV,EAAK,CAChCE,OAAQ,OACRiB,KAAMC,KAAKC,UAAUF,GACrBG,QAASlB,IAXH,cAQFU,EARE,yBAaDA,GAbC,2C,2DAgBVS,U,uCAAY,WAAOvB,EAAKC,GAAZ,eAAAY,EAAA,sEACa,EAAKd,WAAWC,EAAKC,EAAQ,UAD1C,cACJa,EADI,yBAEHA,GAFG,2C,yDC/CRU,EAAS,I,sCAHbC,KAAM,2G,QCMKC,EAAgBC,YAAiB,sBAAD,uCAAwB,WAAOC,GAAP,eAAAf,EAAA,sEAC5Cf,EAAOa,OAAOa,EAAOC,MADuB,cAC7DX,EAD6D,yBAE5DA,GAF4D,2CAAxB,uDAKhCe,EAAaF,YAAiB,mBAAD,uCAAqB,iCAAAd,EAAA,6DAASJ,EAAT,EAASA,QAASqB,EAAlB,EAAkBA,SAAUC,EAA5B,EAA4BA,MAA5B,SACtCjC,EAAOoB,QAAQM,EAAOC,KAAM,CAAEhB,UAASqB,WAAUC,UADX,kBAEhDhB,GAFgD,yCAGpD,CAAEN,UAASqB,WAAUC,UAH+B,gCAKtD,IALsD,2CAArB,uDAQ7BC,EAAaL,YAAiB,mBAAD,uCAAqB,6BAAAd,EAAA,6DAASnB,EAAT,EAASA,GAAT,SACtCI,EAAOyB,UAAUC,EAAOC,KAAM,CAAEhB,QAASf,IADH,kBAEhDqB,GAFgD,yCAGpDrB,GAHoD,gCAKtD,IALsD,2CAArB,uDAsC3BuC,EA9BUC,YAAY,CACnCC,KAAM,QACNC,aAAc,CAAEC,SAAU,GAAIC,QAAS,QACvCC,SAAU,GACVC,cAAe,SAACC,GACdA,EACGC,QAAQhB,EAAciB,SAAS,SAACC,EAAOC,GACtCD,EAAMN,QAAU,aAEjBI,QAAQhB,EAAcoB,WAAW,SAACF,EAAOC,GACxCE,OAAOC,QAAQH,EAAOI,SAASC,SAAQ,SAACC,GACtC,MAA4BA,EAAK,GAAG,GAA5BrB,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,MACZqB,EAAU,CACd3C,QAAS0C,EAAK,GACdpB,QACAD,YAEFc,EAAMP,SAAN,sBAAqBO,EAAMP,UAA3B,CAAqCe,OAEvCR,EAAMN,QAAU,UAEpBG,EAAQC,QAAQb,EAAWiB,WAAW,SAACF,EAAOC,GAC5CD,EAAMP,SAAN,sBAAqBO,EAAMP,UAA3B,CAAqCQ,EAAOI,aAE9CR,EAAQC,QAAQV,EAAWc,WAAW,SAACF,EAAOC,GAC5C,IAAMQ,EAAYT,EAAMP,SAASiB,QAAO,SAACH,GAAD,OAAUA,EAAK1C,UAAYoC,EAAOI,WAC1EL,EAAMP,SAAWgB,QAIvB,QC9BeE,EAvBF,SAACC,GACZ,IAAMC,EAAWC,cACThE,EAAwB8D,EAAxB9D,GAAIqC,EAAoByB,EAApBzB,MAAOD,EAAa0B,EAAb1B,SAKnB,OACE,gCACE,0DAEG,IACAC,KAEH,oDAEG,IACAD,KAEH,wBAAQ6B,QAhBS,WACnBF,EAASzB,EAAW,CAAEtC,SAeWJ,KAAK,SAApC,2BCkBSsE,EAjCQ,WACrB,IAAMC,EAAQC,aAAY,SAAClB,GAAD,OAAWA,EAAMiB,SACrCJ,EAAWC,cAEjBK,qBAAU,WACRN,EAAS/B,OAMR,IAEH,IAAqBsC,EAWrB,OACE,kCACE,8BAbiBA,EAcFH,EAAMxB,SAdgB2B,EAAgBpE,KAAI,SAACuD,GAC5D,OACE,cAAC,EAAD,CAEEzD,GAAIyD,EAAK1C,QACTqB,SAAUqB,EAAKrB,SACfC,MAAOoB,EAAKpB,OAHPoB,EAAK1C,kB,QCcHwD,EAlCO,WACpB,IAAMR,EAAWC,cACXQ,EAAaC,iBAAO,MACpBC,EAAgBD,iBAAO,MAsB7B,OACE,uBAAME,SAPa,SAACC,GACpBA,EAAMC,iBAfkB,WAAO,IAAD,IACxBnB,EAAU,CACd3C,QAAS+D,cACTzC,MAAK,OAAEmC,QAAF,IAAEA,GAAF,UAAEA,EAAYO,eAAd,aAAE,EAAqBC,MAC5B5C,SAAQ,OAAEsC,QAAF,IAAEA,GAAF,UAAEA,EAAeK,eAAjB,aAAE,EAAwBC,OAEpCjB,EAAS5B,EAAWuB,IAUpBuB,GANAT,EAAWO,QAAQC,MAAQ,GAC3BN,EAAcK,QAAQC,MAAQ,IAU9B,UACE,uBAAOE,IAAKV,EAAY5E,KAAK,OAAO6C,KAAK,QAAQ0C,YAAY,UAC7D,uBAAOD,IAAKR,EAAe9E,KAAK,OAAO6C,KAAK,WAAW0C,YAAY,aACnE,uBAAOC,MAAM,SAASxF,KAAK,SAAS6C,KAAK,SAASuC,MAAM,eCxB/CK,EANF,kBACX,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,QCAWC,EALI,kBACjB,uDCMaC,EAPE,kBACf,8BACE,oDC0BWC,MApBf,WACE,IAAMC,EAAWC,cACjB,OACE,sBAAK7F,UAAU,MAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,CAAQ4F,SAAUA,EAAlB,UACE,cAAC,IAAD,CAAO9F,OAAK,EAACM,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,cAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,QAR6BwF,EAASE,cCIjCC,G,MAAAA,YAAe,CAC5BC,QAAS,CACP1B,MAAO2B,MCdXC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUC,MAAOA,EAAjB,SACE,cAAC,IAAD,CAAQC,SAAUC,aAAlB,SACE,cAAC,EAAD,UAINC,SAASC,eAAe,W","file":"static/js/main.ce48b199.chunk.js","sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst colors = ['#FF008C', '#D309E1', '#9C1AFF', '#7700FF', '#4400FF'];\n\nconst MenuItem = ({\n  index, to, text,\n}) => {\n  const style = { border: `2px solid ${colors[index]}` };\n  return (\n    <li\n      key={index}\n    >\n      <NavLink\n        to={to}\n        exact\n      >\n        <button\n          type=\"button\"\n          className=\"btn\"\n          style={style}\n        >\n          {text}\n        </button>\n      </NavLink>\n    </li>\n  );\n};\n\nexport default MenuItem;\n","import React from 'react';\nimport MenuItem from './menuItem/MenuItem';\n\nconst NavBar = () => {\n  const links = [\n    {\n      id: 1,\n      path: '/',\n      text: 'Books',\n    },\n    {\n      id: 2,\n      path: '/categories',\n      text: 'Categories',\n    },\n  ];\n\n  const createLinks = (linkCollection) => linkCollection.map((link) => (\n    <MenuItem\n      key={link.id}\n      index={link.id}\n      to={link.path}\n      text={link.text}\n    />\n  ));\n\n  return (\n    <nav className=\"nav\">\n      <div className=\"logo\"><h1>Bookstore</h1></div>\n      <ul>\n        {createLinks(links)}\n      </ul>\n    </nav>\n  );\n};\n\nexport { NavBar as default };\n","/* eslint-disable quote-props */\n/* eslint-disable quotes */\n/* eslint-disable camelcase */\nclass ApiAccess {\n  requestApi = (url, params = {}, method = 'GET') => {\n    let newUrl = url;\n    const headersList = {\n      Accept: '*/*',\n      'Content-Type': 'application/json',\n    };\n\n    const options = {\n      method,\n      headersList,\n    };\n    if (method === 'GET') {\n      newUrl += `?${(new URLSearchParams(params)).toString()}`;\n    } else if (method === 'DELETE') {\n      newUrl += `/${params.item_id}`;\n    }\n\n    return fetch(newUrl, options);\n  };\n\n  getApi = async (url, params, callback) => {\n    const response = await this.requestApi(url, params, 'GET');\n    if (response.ok) {\n      if (callback !== undefined) {\n        callback();\n      }\n      return response.json();\n    }\n    return '';\n  };\n\n  postApi = async (url, params = {}) => {\n    const headersList = {\n      Accept: '*/*',\n      'Content-Type': 'application/json',\n    };\n\n    const body = params;\n\n    const response = await fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: headersList,\n    });\n    return response;\n  }\n\n  deleteApi = async (url, params) => {\n    const response = await this.requestApi(url, params, 'DELETE');\n    return response;\n  }\n}\n\nconst access = new ApiAccess();\nexport { access, ApiAccess };\n","class ApiRoutes {\n  MAIN ='https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi/apps/OMlwiHaSBLEL62sFo84R/books';\n}\n\nconst routes = new ApiRoutes();\nexport { routes as default };\n","/* eslint-disable camelcase */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-param-reassign */\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { access } from '../../api/api-access';\nimport routes from '../../api/api-routes';\n\nexport const fetchAllBooks = createAsyncThunk('books/fetchAllBooks', async (thunkAPI) => {\n  const response = await access.getApi(routes.MAIN);\n  return response;\n});\n\nexport const createBook = createAsyncThunk('books/createBook', async ({ item_id, category, title }) => {\n  const response = await access.postApi(routes.MAIN, { item_id, category, title });\n  if (response.ok) {\n    return { item_id, category, title };\n  }\n  return '';\n});\n\nexport const deleteBook = createAsyncThunk('books/deleteBook', async ({ id }) => {\n  const response = await access.deleteApi(routes.MAIN, { item_id: id });\n  if (response.ok) {\n    return id;\n  }\n  return '';\n});\n\nexport const bookSlice = createSlice({\n  name: 'books',\n  initialState: { entities: [], loading: 'idle' },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAllBooks.pending, (state, action) => {\n        state.loading = 'pending';\n      })\n      .addCase(fetchAllBooks.fulfilled, (state, action) => {\n        Object.entries(action.payload).forEach((book) => {\n          const { category, title } = book[1][0];\n          const newBook = {\n            item_id: book[0],\n            title,\n            category,\n          };\n          state.entities = [...state.entities, newBook];\n        });\n        state.loading = 'idle';\n      });\n    builder.addCase(createBook.fulfilled, (state, action) => {\n      state.entities = [...state.entities, action.payload];\n    });\n    builder.addCase(deleteBook.fulfilled, (state, action) => {\n      const filterArr = state.entities.filter((book) => book.item_id !== action.payload);\n      state.entities = filterArr;\n    });\n  },\n});\nexport default bookSlice.reducer;\n","/* eslint-disable react/prop-types */\nimport { useDispatch } from 'react-redux';\nimport React from 'react';\nimport { deleteBook } from '../../redux/books/bookSlice';\n\nconst Book = (props) => {\n  const dispatch = useDispatch();\n  const { id, title, category } = props;\n  const handleRemove = () => {\n    dispatch(deleteBook({ id }));\n  };\n\n  return (\n    <div>\n      <p>\n        I am a book, my title is:\n        {' '}\n        {title}\n      </p>\n      <p>\n        And my category is:\n        {' '}\n        {category}\n      </p>\n      <button onClick={handleRemove} type=\"button\">Remove me</button>\n    </div>\n  );\n};\nexport default Book;\n","/* eslint-disable arrow-body-style */\n/* eslint-disable no-unused-vars */\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { unwrapResult } from '@reduxjs/toolkit';\nimport { getBooksFromApi } from '../../redux/books/books';\nimport { fetchAllBooks } from '../../redux/books/bookSlice';\nimport Book from '../book/Book';\n\nconst BooksContainer = () => {\n  const books = useSelector((state) => state.books);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchAllBooks());\n    // const getStatus = async () => {\n    //   const resultAction = await dispatch(fetchAllBooks());\n    //   const originalPromiseResult = unwrapResult(resultAction);\n    // };\n    // getStatus();\n  }, []);\n\n  const createBooks = (booksCollection) => booksCollection.map((book) => {\n    return (\n      <Book\n        key={book.item_id}\n        id={book.item_id}\n        category={book.category}\n        title={book.title}\n      />\n    );\n  });\n\n  return (\n    <section>\n      <ul>\n        {createBooks(books.entities)}\n      </ul>\n    </section>\n  );\n};\n\nexport default BooksContainer;\n","import { useDispatch } from 'react-redux';\nimport { useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { createBook } from '../../redux/books/bookSlice';\n\nconst CreateNewBook = () => {\n  const dispatch = useDispatch();\n  const titleInput = useRef(null);\n  const categoryInput = useRef(null);\n\n  const submitBookToStore = () => {\n    const newBook = {\n      item_id: uuidv4(),\n      title: titleInput?.current?.value,\n      category: categoryInput?.current?.value,\n    };\n    dispatch(createBook(newBook));\n  };\n\n  const clearInputs = () => {\n    titleInput.current.value = '';\n    categoryInput.current.value = '';\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    submitBookToStore();\n    clearInputs();\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input ref={titleInput} type=\"text\" name=\"title\" placeholder=\"Title\" />\n      <input ref={categoryInput} type=\"text\" name=\"category\" placeholder=\"Category\" />\n      <input label=\"Create\" type=\"submit\" name=\"create\" value=\"Create\" />\n    </form>\n  );\n};\n\nexport default CreateNewBook;\n","import React from 'react';\nimport BooksContainer from '../../components/booksContainer/BooksContainer';\nimport CreateNewBook from '../../components/createNewBook/CreateNewBook';\n\nconst Home = () => (\n  <>\n    <CreateNewBook />\n    <BooksContainer />\n  </>\n);\nexport default Home;\n","import React from 'react';\n\nconst Categories = () => (\n  <div>\n    UNDER CONSTRUCTION!\n  </div>\n);\nexport default Categories;\n","import React from 'react';\n\nconst NotMatch = () => (\n  <div>\n    <h3>\n      Nothing here...\n    </h3>\n  </div>\n);\nexport default NotMatch;\n","import {\n  Route,\n  Switch,\n  useLocation,\n} from 'react-router-dom';\nimport NavBar from './components/nav/NavBar';\nimport Home from './pages/home/Home';\nimport Categories from './pages/categories/Categories';\nimport NotMatch from './pages/NotMatch';\n\nfunction App() {\n  const location = useLocation();\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <Switch location={location} key={location.pathname}>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/categories\">\n          <Categories />\n        </Route>\n        <Route path=\"*\">\n          <NotMatch />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","/* eslint-disable no-unused-vars */\n// /* eslint-disable no-unused-vars */\n// import { createStore, combineReducers, applyMiddleware } from 'redux';\n// import logger from 'redux-logger';\n// import booksReducer from './books/books';\n\n// const reducer = combineReducers({\n//   booksReducer,\n// });\n\n// const store = createStore(\n//   reducer,\n//   applyMiddleware(thunk),\n// );\n\nimport { configureStore } from '@reduxjs/toolkit';\nimport thunk from 'redux-thunk';\nimport bookReducer from './books/bookSlice';\n\nexport default configureStore({\n  reducer: {\n    books: bookReducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport store from './redux/configureStore';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router basename={process.env.PUBLIC_URL}>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}